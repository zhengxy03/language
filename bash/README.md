# command
## wget
* -N 是wget的一个选项，意味着“如果服务器上的文件比本地文件新，则下载该文件”。这确保了您总是拥有最新版本的文件。

## bc
bc 是一个用于基本算术运算的工具，它可以处理由数字和运算符组成的表达式。
## bsub
它是 LSF（Load Sharing Facility）作业调度系统中用来提交作业的命令。bsub 命令允许用户向集群提交作业，并指定作业的运行环境和依赖关系。
* -q mpi：-q/-queue指定作业要提交到的队列。指定作业运行在 mpi 队列中，这个队列可能被配置为运行 MPI（Message Passing Interface）作业。
* -n ：指定作业需要几个节点或 CPU 核心。
* -J ".."：为作业指定一个名称
* -w "ended(..)" 选项指定了作业的等待条件，即等待..的结束
## cut
cut 是一个文本处理工具，用于从输入行中提取字段(列）。
* -f N 提取第N个字段
* -d" " 分隔符，这里是空格
## grep
* -v 反向匹配（去除）
* -x 精确匹配，完全匹配
## split
split 是一个用于将输入分割成多个文件的工具。
* -l N 指定每个输出文件包含的最大行数
* -a N 指定生成的文件名长度为N个字符
* -d 表示使用数字作为后缀
* \- 表示输入来自标准输入
* -b 值为输出大小，单位是byte
## sed 
流编辑器，是一个命令行文本处理工具，对输入流（通常是文件内容）进行处理和转换。
    * d 是一个命令，表示删除, 1d是删除第一行。
    * -e 执行后续命令
## sort
* -n 按照数字大小进行排序
* -r 按照逆序排序（从大到小）
## find
命令用于在文件系统中搜索文件。
* -maxdepth N 限制搜索深度为当前目录下N级
* -maxdepth 2 -mindepth 2 只查找当前目录的子目录
* -type f 指定只查找文件
* -name 匹配文件名
## parallel
* -j 同时运行
* -v 显示详细信息
* -r 选项表示保留输入顺序执行任务。
* --line-butter 确保输出即时刷新，而不是等到命令完成。
* -k 表示保持输入顺序。
* --colsep "\t" 设置列分隔符为制表符（\t）
* --no-run-if-empty 表示如果输入的数据行为空行，就不执行后续的命令块，避免不必要的操作。
* 占位符 {1} 第一个字段的占位符
* {.}通常是提取当前处理文件的文件名部分（去除扩展名等）{/.}
* {#}获取序列号
## paste
paste 通常用于将多个文本文件或文本流按照`列`的方式进行拼接。
* -s 输入的文本流按照`行`的方式进行拼接。
* -d+ 选项，指定在拼接这些值的时候，在每个值之间插入一个加号（+）。
## perl

## rsync 
远程同步
* -a：归档模式，等同于 -rlptgoD，保留了几乎所有的文件属性，并递归地同步目录。
* -v：详细模式，显示更多的信息，包括同步过程中的详细信息。
* -P：显示进度信息，等同于 --partial（允许传输中断后从上次中断的地方继续传输。） --progress（显示文件传输的进度）。
## rg
ripgrep 工具的命令名称，用于在文件中搜索文本模式。
* -F：这个选项告诉 ripgrep 将搜索模式作为固定字符串（literal string），而不是正则表达式。这意味着搜索模式中的任何特殊字符都不会被解释为正则表达式操作符。
* -l：这个选项让 ripgrep 只输出包含匹配项的文件名，而不输出匹配行的内容。
## tr 
用于对来自标准输入的字符进行替换、删除或挤压。
## uniq
从排序后的文件（或标准输入）中去除相邻的重复行，只保留每个连续相同行组中的一行。
## xargs
将标准输入数据转换为命令行参数
* -I[]： -I 指定一个替换字符串（在这个例子中是空的 []），用于在构建的命令中替换输入项。。
## 重定向符
* \> 这个操作符用于将数据写入文件，如果文件已存在，则会截断文件（即删除文件中原有的所有内容），然后写入新数据。
* \>> 这个操作符用于将数据追加到文件的末尾，如果文件已存在。如果文件不存在，它的行为与 > 相同，即创建一个新文件并写入数据。
* \>&2 将标准输出（stdout）重定向到标准错误流（stderr）。
* 2>/dev/null 将标准错误流（stderr）重定向到 /dev/null，这是一个特殊的设备文件，它会丢弃所有写入其中的数据（即不保留任何输出）。
* <<< 是一种重定向输入的操作符
## POSIX字符类
* \[:blank:] 是一个字符类，匹配所有空白字符，包括空格、制表符等。
# pkgs&tools
## 2.1 tsv-utils
tsv 包是一组用于处理 Tab-Separated Values (TSV) 文件的命令行工具集。这些工具可以帮助用户轻松地读取、写入、过滤、排序和处理 TSV 数据。TSV 文件是一种常见的数据交换格式，其中数据列由制表符分隔，类似于 CSV 文件，但使用制表符而不是逗号。
* tsv-filter：根据指定的条件过滤 TSV 文件中的行。
    * --le 是 tsv-filter 的一个选项，用于根据指定的列和条件过滤行,表示小于等于。
    * --gt 表示“大于”（greater than）。如--gt 2:2000
    * --ge 大于等于
    * --ff-str-ne 是一个参数，用于指定字段（field）过滤条件。ne 代表“not equal”，即不等于。
    * -d" " 选项表示以空格作为分隔符
    * --regex 基于正则表达式的筛选条件
* tsv-select: 从制表符分隔值（TSV）文件中选择特定的列。
    * -f 1-3：这是 tsv-select 命令的参数，-f 表示“fields”，即字段或列。
* tsv-join:  一个用于合并两个 TSV 文件的工具。
   * -e 选项表示在输出中包含那些在第一个文件中但不在第二个文件中的行。
   * -f 选项表示强制执行合并，即使没有匹配的键。
## 2.2 mash(MinHash)
MinHash 是一种用于估计两个集合相似度的算法，它基于局部敏感哈希（Locality-Sensitive Hashing, LSH）的概念。MinHash 的核心思想是通过哈希函数将集合中的元素映射到一个较小的“签名”空间，使得相似集合的签名具有更高的概率相似。MinHash 算法主要用于估计集合之间的Jaccard相似系数，即两个集合交集大小与并集大小之比。<br>
Mash扩展了MinHash技术，使其能够用于评估基因组之间的距离，包括成对的突变距离和P值显著性测试，从而实现大规模序列集合的高效聚类和搜索。
> `构建MinHash草图`（Sketching）：<br>
Mash首先将大型基因组序列简化为较小的代表性草图（sketches）。这是通过将基因组序列分解为固定长度的k-mer（短片段），然后将每个k-mer通过哈希函数转换成哈希值来实现的。这样，基因组序列的相似度问题就转化为了这些哈希值集合的相似度问题<br>
> `估计Jaccard指数`：<br>
MinHash技术允许对两个k-mer集合的Jaccard指数进行近似估计。Jaccard指数是衡量两个集合相似度的指标，即两个集合交集的大小除以并集的大小。Mash通过合并排序两个底部草图来估计Jaccard指数，这个估计是一个无偏估计，并且误差界限只依赖于草图的大小，与基因组的大小无关<br>
> `计算Mash距离`：<br>
Mash距离是基于MinHash草图直接估计两个序列之间的突变率的新距离度量。这个距离度量与基于对齐的距离度量（如平均核苷酸一致性，ANI）有很强的相关性，但是计算速度更快，因为它仅依赖于比较缩小尺寸的草图<br>
> `实际应用案例`：<br>
Mash可以用于对NCBI RefSeq中的所有基因组进行聚类，基于组装或未组装的实时基因组聚类，以及聚类大量的宏基因组数据集.<br>
用户可以下载RefSeq参考基因组的数据库sketch文件，然后对自己的样本数据（如测序 reads）进行sketch，最后使用Mash的dist命令比较样本数据与参考基因组之间的距离

* sketch: mash的子命令，用于创建一个sketch。这个sketch可以用于快速比较基因组序列的相似性。
    * -k 这个参数指定了sketch中使用的k-mer的长度
    * -s 这个参数指定了sketch的大小，即每个k-mer在sketch中出现的次数。
    * -i 这个参数指示MASH在读取输入时忽略质量分数
    * -p 这个参数指定了使用多个处理器来并行执行sketch的创建。
    * \-  这个符号表示MASH将从标准输入读取数据。
    * -o 这个参数指定了输出文件的名称
* dist: 用于计算两个或多个 MinHash 草图之间的距离。

## 2.3 Egaz
Easy Genome Aligner（EGA）是一种基因组比对工具。它的主要功能是将测序得到的基因组序列（或部分序列）与参考基因组序列进行比对。
* repeatmasker 执行重复序列屏蔽操作
* prepseq 为 “lastz” （基因组比对）工具做准备步骤。
* template 创建执行的 bash 文件
   * --multi 处理多个文件或数据流。
   * -o 指定输出目录
   * --order：指示egaz在处理过程中按照某种特定的顺序进行操作
   * --parallel 设置并行处理的任务数

## 2.4 datamash
datamash 是一个用于处理数据表格并执行各种统计操作的工具
* median 中位数
* mad 平均绝对偏差
